<!doctype html>
<html class="no-js">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />
<link rel="index" title="Index" href="genindex.html" /><link rel="search" title="Search" href="search.html" />

    <meta name="generator" content="sphinx-4.4.0, furo 2022.04.07"/>
        <title>Integrated Decision Units (IDUs) for Land Use Suitability Modeling - GALUP Training</title>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"/>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
        <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?digest=68f4518137b9aefe99b631505a2064c3c42c9852" />
      <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?digest=30d1aed668e5c3a91c3e3bf6a60b675221979f0e" />
      <link rel="stylesheet" type="text/css" href="_static/customcss.css"/>
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    
    <nav class="navbar shadow navbegone navbar-expand-lg short fixed-top navbar-themed">
      <div class="container-lg" id="banner">
        <!-- <div class="row"> -->
          <div class="col-lg-2">
            <a class="navbar-brand" href="../index.html">
            <img class="navbar-brand-logo" src="../GithubPagesImages/GALUP-logo-final-color-2020.svg" alt="GALUP Logo" width="45">
            &nbsp;&nbsp;GALUP Training</a>    
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
             data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
            </button>
          </div>
        <div class="left collapse navbar-collapse padme navbottom" id="navbarNav">
          <!-- <div id="navbar-center"> -->
            <ul class="navbar-nav">
              <li class="nav-item hov">
                <a class="nav-link active" aria-current="page" href="pylusat.html">Install PyLUSATQ</a>
              </li>
              <li class="nav-item hov">
                <a class="nav-link active" aria-current="page" href="#">Documentation</a>
              </li>
              <li class="nav-item hov">
                <a class="nav-link active" aria-current="page" href="#">Gallery</a>
              </li>
              <li class="nav-item hov">
                <a class="nav-link active" aria-current="page" href="#">Publication</a>
              </li>
            </ul>
          </div>
      <!-- </div> -->
      <div id="navbar-end">
        <div class="navbar-end-item navbottom">
          <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
            <li class="nav-item">
              <a class="nav-link" href="https://github.com/chjch/pylusat">
                <img src="https://img.shields.io/pypi/v/pylusat?color=br&label=pylusat%20version">
              </a>
            </li>
            <li class="nav-item ">
              <a class="nav-link linkalign" href="https://github.com/SERVIR-WA/GALUP" rel="noopener" target="_blank" title="GitHub"><span><i class ="fa fa-fw fa-github"></i></span>
              <label class="sr-only">GitHub</label></a>
            </li>
            <li class="nav-item">
              <a class="nav-link linkalign" href="https://twitter.com/galupghana" rel="noopener" target="_blank" title="Twitter"><span><i class="fa fa-fw fa-twitter"></i></span>
              <label class="sr-only">Twitter</label></a>
            </li>
          </ul>
        </div>
        </div>
      </div>
      
    </div>
    </nav>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="container-xl">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">GALUP Training</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <div class="row">
    <aside class="sidebar-drawer col-12 col-md-3 bd-sidebar">
      <div class="toc-sticky containme">
      <div class="sidebar-container ">
        <div class="sidebar-sticky">
          <a class="sidebar-brand" href="index.html">
            <!-- <span class="sidebar-brand-text">Contents</span> -->
          </a>
          <form class="sidebar-search-container" method="get" action="search.html" role="search">
            <input class="sidebar-search" placeholder=Search name="q" aria-label="Search">
            <input type="hidden" name="check_keywords" value="yes">
            <input type="hidden" name="area" value="default">
          </form>
      <div id="searchbox"></div>
      <div class="sidebar-scroll">
        <div class="sidebar-tree sidefont">
          <ul>
            <li class="has-children">
              <a class="hov reference internal" href="Training1ReadMe.html"><b>Land-Use Suitability Analysis with QGIS Tools</b></a>
              <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox">
              <label for="toctree-checkbox-1">
              <div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label>
              <ul>
                <li><a class="reference internal hov" href="Training1Module1.html">1-1: Software and Data Preparation</a></li>
                <li><a class="reference internal hov" href="Training1Module2.html">1-2: Introduction to LUCIS-OPEN Tools for QGIS</a></li>
                <li><a class="reference internal hov" href="Training1Module3.html">1-3: Create Suitability Models with QGIS Graphical Modeler</a></li>
                <li><a class="reference internal hov" href="Training1Module4.html">1-4: Aggregate Results to Make Land-Use Decisions</a></li>
              </ul>
            </li>
            <li class="has-children">
              <a class="hov reference internal" href="Training2ReadMe.html"><b>Introduction to Satellite Remote Sensing</b></a>
              <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"><label for="toctree-checkbox-2">
                <div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label>
                <ul>
                  <li><a class="reference internal hov" href="Training2Module1.html">2-1: Introduction to Remote Sensing (RS)</a></li>
                  <li><a class="reference internal hov" href="Training2Module2.html">2-2: RS Applications using Google Earth Engine</a></li>
                  <li><a class="reference internal hov" href="Training2Module3.html">2-3: Common RS Indices and Environmental Variables</a></li>
                  <li><a class="reference internal hov" href="Training2Module4.html">2-4: Land Cover Classification</a></li>
                </ul>
            </li>
            <li class="has-children"><a class="hov reference internal" href="Training3ReadMe.html"><b>Integrated Decision Units for Land Use Suitability Modeling</b></a>
              <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox" checked><label for="toctree-checkbox-3">
                <div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label>
                <ul>
                  <li> <a class="reference internal hov" href="Training3Module1.html">3-1: Integrated Decision Units (IDUs) for Land Use Suitability Modeling</a>
                  </li>
                </ul>
            </li>
          </ul>
        </div>
        </div>
      </div>
   
      </div>
       
      </div>
    </aside>

  <div class="main col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container"><div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="integrated-decision-units-idus-for-land-use-suitability-modeling">
<h1>Module 1 - Integrated Decision Units (IDUs) for Land Use Suitability Modeling<a class="headerlink" href="#integrated-decision-units-idus-for-land-use-suitability-modeling" title="Permalink to this headline">#</a></h1>
<!-- <details> -->
<!-- <summary>Table of Contents (click to expand)</summary>

- [Integrated Decision Units (IDUs) for Land Use Suitability Modeling](#integrated-decision-units-idus-for-land-use-suitability-modeling)
  - [1. Introduction](#1-introduction)
  - [2. Datasets Description](#2-datasets-description)
  - [3. Key Functions](#3-key-functions)
    - [3.1 DBSCAN clustering](#31-dbscan-clustering)
    - [3.2 Proximity](#32-proximity)
    - [3.3 Raster Calculator](#33-raster-calculator)
    - [3.4 Reclassify by Table](#34-reclassify-by-table)
    - [3.5 Subdivide](#35-subdivide)
    - [3.6 Eliminate Selected Polygons](#36-eliminate-selected-polygons)
    - [3.7 v.clean](#37-vclean)
  - [4. The QGIS Workflow of Creating IDUs](#4-the-qgis-workflow-of-creating-idus)
    - [4.1 Developing urban clusters](#41-developing-urban-clusters)
    - [4.2 Calculating IDUs](#42-calculating-idus)
  - [5. Exercise and Post-training Survey](#5-exercise-and-post-training-survey)
  - [Reference](#reference) -->
<!-- </details><section id="introduction"> -->
<h2>1. Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">#</a></h2>
<blockquote>
<div><p>“<strong><i>Land units</strong>, or land-mapping units, are areas with and qualities that
<strong>differ sufficiently</strong> from those of other land units to affect their
suitability for different land uses.”</i></p>
</div></blockquote>
<p>As suggested by the title, the workshop deals with creating Integrated Decision
Units (<strong>IDUs</strong>), a vector geographic data represented in polygons.
Two major applications of IDU includes:</p>
<ul class="simple">
<li><p>demarcation of a tract of land into smaller (homogeneous) parcels</p></li>
<li><p>creation of (mapping) units for geospatial analysis</p></li>
</ul>
<p>We introduce a technical solution for creating IDUs in <strong>QGIS</strong>.
We will begin by introducing the conceptual framework IDU is based on; then,
moving onto QGIS functions that are involved in the particular solution; and,
finally, looking at an example of the THLD District in Ghana.</p>
</section>
<section id="datasets-description">
<h2>2. Datasets Description<a class="headerlink" href="#datasets-description" title="Permalink to this headline">#</a></h2>
<p>The <strong>homogeneity</strong> of an IDU is determined by land properties or attributes,
such as soil, land cover, slope, elevation, etc.
Therefore, these information should be utilized in the creation of IDUs.
As to which specific ones to use, it is often a combined result of data
availability and the spatial scale of the particular question at hand.
In general, the more datasets are involved in the process of creating IDUs the
more complicated (in terms of granularity) the IDU system will be.
In this workshop, we used two datasets: (1)
<span class="raw-html-m2r"><a href="#iSDA land cover"><i>land cover</i></a></span> and (2)
<span class="raw-html-m2r"><a href="#africa soil drainage dataset"><i>soil drainage</i></a></span>.</p>
<details>
<summary><u><b>Land Cover</b></u></summary>

  <p>Land cover is used because it reflects the condition of the land surface,
  which is directly related to the <i>potential</i> <b>land use</b>.
  For example, when developing a new town, land that is classified as
  "closed forest" would require more labor than land that is "open forest."
  Therefore, it is useful to consider land cover when creating IDUs.</p>

  <img src="/GithubPagesImages/LC_THLD.png">
</details><details>
<summary><u><b>Soil Drainage</b></u></summary>

  <p>Soil drainage is used because it reflect the <b>permeability</b> of the land
  surface in natural conditions, which usually indicative to the landform and
  environmental characteristics of the land.</p>

  <img src="/GithubPagesImages/Drainage_THLD.png"
></details><blockquote>
<p>&#128276;<strong> Download and Use the Datasets</strong><span class="raw-html-m2r"><br/></span></p>
</dd>
</dl>
<p>The datasets can be found at <a class="reference external" href="datasets">here</a>.
It is organized by two Districts Assembly of Ghana, namely
<strong>Asante Akim Central</strong> (AAC) District and <strong>Twifo-Hemang Lower Denkyira</strong>
(THLD) District.
THLD datasets are used as examples in the following training materials,
whereas AAC datasets will be used for the exercise.
To download the datasets, simply click
<a class="reference external" href="https://github.com/SERVIR-WA/GALUP/archive/refs/heads/master.zip">here</a>,
which will download the entire GALUP repository as a zip file.
Unzip the downloaded file and navigate to the appropriate location to use the
datasets.</p>
</blockquote>
</section>
<div class="table-wrapper"><table class="docutils align-default">
<colgroup>
<col style="width: 20%"/>
<col style="width: 20%"/>
<col style="width: 20%"/>
<col style="width: 20%"/>
<col style="width: 20%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>ID</p></th>
<th class="head"><p>File Name</p></th>
<th class="head"><p>Data Format</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>gas_station.shp</p></td>
<td><p>vector</p></td>
<td><p>point</p></td>
<td><p>Gas station locations in Ghana</p></td>
</tr>
</tbody>
</table></div>

</table>
<section id="key-functions">
<h2>3. Key Functions<a class="headerlink" href="#key-functions" title="Permalink to this headline">#</a></h2>
<p>The table below shows all of the tools used in this module. You can
find out more information about each tool by following the attached link.
Later, we will take a more in depth look at 6 functions that are key to this
workflow.</p>

<div class="table-wrapper"><table class="docutils align-default">
  <colgroup>
  <col style="width: 25%"/>
  <col style="width: 25%"/>
  <col style="width: 25%"/>
  <col style="width: 25%"/>
  </colgroup>
  <thead>
  <tr class="row-odd"><th class="head"><p>Raster Analysis	</p></th>
  <th class="head"><p>Vector Analysis	</p></th>
  <th class="head"><p>Conversion</p></th>
  <th class="head"><p>Selection</p></th>
  </tr>
  </thead>
  <tbody>
  <tr class="row-even"><td><p><a href="https://docs.qgis.org/3.16/en/docs/user_manual/processing_algs/qgis/rasteranalysis.html#qgisrastercalculator">Raster calculator</a></p></td>
  <td><p><a href="https://docs.qgis.org/3.16/en/docs/user_manual/processing_algs/qgis/vectorgeometry.html#qgiseliminateselectedpolygons">Eliminate selected polygons</a></p></td>
  <td><p><a href="https://docs.qgis.org/3.16/en/docs/user_manual/processing_algs/gdal/vectorconversion.html#gdalrasterize">Rasterize</a></p></td>
  <td><p><a href="https://docs.qgis.org/3.16/en/docs/user_manual/processing_algs/qgis/vectorselection.html#qgisextractbyattribute">Extract by attribute</a></p></td>
  </tr>
  <tr class="row-odd"><td><p><a href="https://docs.qgis.org/3.16/en/docs/user_manual/processing_algs/qgis/rasteranalysis.html#qgisreclassifybytable">Reclassify by table</a></p></td>
  <td><p><a href="https://grass.osgeo.org/grass80/manuals/v.clean.html">v.clean</a></p></td>
  <td><p><a href="https://grass.osgeo.org/grass80/manuals/r.to.vect.html">r.to.vect</a></p></td>
  <td><p><a href="https://docs.qgis.org/3.16/en/docs/user_manual/processing_algs/qgis/vectorselection.html#qgisselectbyexpression">Select by expression</a></p></td>
  </tr>
  <tr class="row-even"><td><p><a href="https://docs.qgis.org/3.16/en/docs/user_manual/processing_algs/gdal/rasteranalysis.html#gdalproximity">Proximity</a></p></td>
  <td><p><a href="https://docs.qgis.org/3.16/en/docs/user_manual/processing_algs/qgis/vectorgeneral.html#qgismergevectorlayers">Merge vector layers</a></p></td>
  <td><p><a href="https://docs.qgis.org/3.16/en/docs/user_manual/processing_algs/qgis/vectorcreation.html#qgispixelstopoints">Raster pixels to points</a></p></td>
  <td><p>&nbsp;</p></td>
  </tr>
  <tr class="row-odd"><td><p><a href="https://grass.osgeo.org/grass80/manuals/r.null.html">r.null</a></p></td>
  <td><p><a href="https://docs.qgis.org/3.16/en/docs/user_manual/processing_algs/qgis/vectorgeometry.html#qgissubdivide">Subdivide</a></p></td>
  <td><p><a href="https://docs.qgis.org/3.16/en/docs/user_manual/processing_algs/qgis/vectorgeometry.html#qgismultiparttosingleparts">Multipart to singleparts</a></p></td>
  <td><p>&nbsp;</p></td>
  </tr>
  <tr class="row-even"><td><p>&nbsp;</p></td>
  <td><p><a href="https://docs.qgis.org/3.16/en/docs/user_manual/processing_algs/qgis/vectoranalysis.html#qgisdbscanclustering">DBSCAN clustering</a></p></td>
  <td><p><a href="https://docs.qgis.org/3.16/en/docs/user_manual/processing_algs/qgis/vectorgeometry.html#qgisfixgeometries">Fix geometries</a></p></td>
  <td><p>&nbsp;</p></td>
  </tr>
  </tbody>
  </table></div>

<section id="id2">
<h3>3.1 DBSCAN clustering<a class="headerlink" href="#id2" title="Permalink to this headline">#</a></h3>
<p>For <strong>Defined distance (DBSCAN)</strong>, if the <strong>Minimum Features per Cluster</strong> can
be found within the <strong>Search Distance</strong> from a particular point, that point
will be marked as a core-point and included in a cluster, along with all points
within the core-distance. A border-point is a point that is within the search
distance of a core-point but does not itself have the minimum number of
features within the search distance. Each resulting cluster is composed of
core-points and border-points, where core-points tend to fall in the middle of
the cluster and border-points fall on the exterior. If a point does not have
the minimum number of features within the search distance and is not a within
the search distance of another core-point (in other words, it is neither a
core-point nor a border-point), it is marked as a noise point and not included
in any cluster.</p>

<div class="table-wrapper"><table class="docutils align-default">
  <tbody>
    <tr class="row-odd">
      <td><img src="/GithubPagesImages/DBSCANex.png"></td>
    </tr>
    <tr>
      <td><p>Fig. 2 How DBSCAN is calculated. <i>Source</i>: <a href="https://pro.arcgis.com/en/pro-app/latest/tool-reference/spatial-statistics/how-density-based-clustering-works.htm">ESRI.</a></p></td>
    </tr>
  </tbody>
</table>

<ul class="simple">
<li><p><strong>Usage</strong>: This tool is used to detect areas where points are concentrated
and where they are separated by areas that are empty or sparse. Points that
are not part of a cluster are labeled as noise. The results from running the
DBSCAN algorithm help us identify points that make up a cluster and points
that are noise.</p></li>
<li><p><strong>Example</strong>: As an example, we will use <strong>DBSCAN clustering</strong> to identify
clusters of gas stations within Ghana. The datasets used are listed below:</p></li>
</ul>
<div class="table-wrapper"><table class="docutils align-default">
<colgroup>
<col style="width: 20%"/>
<col style="width: 20%"/>
<col style="width: 20%"/>
<col style="width: 20%"/>
<col style="width: 20%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>ID</p></th>
<th class="head"><p>File Name</p></th>
<th class="head"><p>Data Format</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>gas_station.shp</p></td>
<td><p>vector</p></td>
<td><p>point</p></td>
<td><p>Gas station locations in Ghana</p></td>
</tr>
</tbody>
</table></div>
<p>The two figures below display the parameter settings and the output of the
tool.</p>

<div class="table-wrapper"><table class="docutils align-default">
  <colgroup>
  <col style="width: 50%"/>
  <col style="width: 25%"/>
  <col style="width: 25%"/>
  </colgroup>
  <thead>
  <tr class="row-odd"><th class="head"><p>Parameter Settings	</p></th>
  <th class="head"><p>Input</p></th>
  <th class="head"><p>Output</p></th>
  </tr>
  </thead>
  <tbody>
  <tr class="row-even"><td><p><img src="/GithubPagesImages/DBSCANpmtrs.jpg"></p></td>
  <td><p><img src="/GithubPagesImages/GhanaGS.png"></p></td>
  <td><p><img src="/GithubPagesImages/GhanaGS_clus.png"></p></td>
  </tr>
  </tbody>
  </table></div>
</section>
<section id="id3">
<h3>3.2 Proximity<a class="headerlink" href="#id3" title="Permalink to this headline">#</a></h3>
<p>The <strong>Proximity</strong> tool calculates the <span class="raw-html-m2r"><b>Euclidean distance</b></span> from the
center of the source cell to the center of each of the surrounding cells.
Conceptually, the Euclidean algorithm works as follows: for each cell, the
distance to each source cell is determined by calculating the hypotenuse with
x_max and y_max as the other two legs of the triangle. This calculation derives
the true Euclidean distance, rather than the cell distance. The shortest
distance to a source is determined, and if it is less than the specified
maximum distance, the value is assigned to the cell location on the output
raster.</p>

<div class="table-wrapper"><table class="docutils align-default">
  <tr><td><img src="/GithubPagesImages/EucDistEx2.gif"></td></tr>
  <tr><td>Determining true Euclidean distance. <i>Source</i>: <a href="https://pro.arcgis.com/en/pro-app/latest/tool-reference/spatial-analyst/understanding-euclidean-distance-analysis.htm">ESRI</a></td></tr>
</table>
</div>
<ul class="simple">
<li><p><strong>Usage</strong>:
This tool gives the measured Euclidean distance from every cell to the
nearest source. The distances are measured in the projection units of the
raster, such as feet or meters, and are measured from cell center to cell
center.</p></li>
</ul>
<blockquote>
<div>
<p>&#128204; The projected units of a raster layer can be found under the <em>information</em> tab in the layer properties</p>
</div></blockquote>
<ul class="simple">
<li><p><strong>Example</strong>:
Now we will use the <strong>Proximity</strong> tool in order to determine the Euclidean
distance from a gas station cluster to the rest of the raster cells.</p></li>
</ul>
<div class="table-wrapper"><table class="docutils align-default">
<colgroup>
<col style="width: 25%"/>
<col style="width: 25%"/>
<col style="width: 25%"/>
<col style="width: 25%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>ID</p></th>
<th class="head"><p>File Name</p></th>
<th class="head"><p>Data Format</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>r_cluster1.tif</p></td>
<td><p>raster</p></td>
<td><p>Cluster 1 in raster format</p></td>
</tr>
</tbody>
</table></div>
<p>The two figures below illustrate the parameters and output of the <strong>Proximity</strong>
tool.</p>

<div class="table-wrapper"><table class="docutils align-default">
  <colgroup>
  <col style="width: 50%"/>
  <col style="width: 50%"/>
  </colgroup>
  <thead>
  <tr class="row-odd"><th class="head"><p>Parameter Settings	</p></th>
  <th class="head"><p>Output</p></th>
  </tr>
  </thead>
  <tbody>
  <tr class="row-even"><td><p><img src="/GithubPagesImages/ProximityPmtrs.jpg"></p></td>
  <td><p><img src="/GithubPagesImages/ProximityRasEx.jpg"></p></td>
  </tr>
  </tbody>
  </table></div>


</section>
<section id="id5">
<h3>3.3 Raster Calculator<a class="headerlink" href="#id5" title="Permalink to this headline">#</a></h3>
<p>The <strong>Raster calculator</strong> tool allows you to create and execute <em>Map Algebra</em>
expression that will output a raster.
We will be using a <a class="reference external" href="https://www.spatialanalysisonline.com/HTML/Distance_decay_models.htm">distance decay</a>
model in order to assign weights to each cluster.
Distance decay, also known as the <strong>Gravity Model</strong> or the Inverse Square Law,
is the tendency of a spatial relationship between one place and another to
weaken as the distance between them increases<span class="raw-html-m2r"><a href="#geospatial anlysis"><sup>3</sup></a></span>.</p>

<div class="table-wrapper"><table class="docutils align-default">
  <tbody>
    <tr class="row-odd">
      <td><img src="/GithubPagesImages/distance_decay.png"></td>
    </tr>
    <tr>
      <td><p>Fig. 2 How DBSCAN is calculated. <i>Source</i>: <a href="https://pro.arcgis.com/en/pro-app/2.7/help/analysis/geostatistical-analyst/how-inverse-distance-weighted-interpolation-works.htm">ESRI.</a></p></td>
    </tr>
  </tbody>
</table>

<ul>
<li><p><strong>Usage</strong>:
The <strong>Raster calculator</strong> tool is used to individually weight and multiply
proximity rasters together.</p>
<p>The weighting formula that we will use is: <em>w * 1/distance</em>.</p>
<p>Where <em>w</em> is equal to the <strong>number of points</strong> (urban pixels) in a cluster
divided by the total number of points in all clusters.</p>
<p>Here is what our full equation looks like:</p>
<a class="reference external image-reference" href="/GithubPagesImages/TotalEq.svg"><img alt="Full Equation" src="/GithubPagesImages/TotalEq.svg"/></a>
</li>
<li><p><strong>Example</strong>:</p></li>
</ul>
<div class="table-wrapper"><table class="docutils align-default">
<colgroup>
<col style="width: 25%"/>
<col style="width: 25%"/>
<col style="width: 25%"/>
<col style="width: 25%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>ID</p></th>
<th class="head"><p>File Name</p></th>
<th class="head"><p>Data Format</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>cluster1_euc_dst.tif</p></td>
<td><p>raster</p></td>
<td><p>Euclidean distance from cluster 1</p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>cluster2_euc_dst.tif</p></td>
<td><p>raster</p></td>
<td><p>Euclidean distance from cluster 2</p></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td><p>cluster3_euc_dst.tif</p></td>
<td><p>raster</p></td>
<td><p>Euclidean distance from cluster 3</p></td>
</tr>
<tr class="row-odd"><td><p>4</p></td>
<td><p>cluster4_euc_dst.tif</p></td>
<td><p>raster</p></td>
<td><p>Euclidean distance from cluster 4</p></td>
</tr>
<tr class="row-even"><td><p>5</p></td>
<td><p>cluster5_euc_dst.tif</p></td>
<td><p>raster</p></td>
<td><p>Euclidean distance from cluster 5</p></td>
</tr>
<tr class="row-odd"><td><p>6</p></td>
<td><p>cluster6_euc_dst.tif</p></td>
<td><p>raster</p></td>
<td><p>Euclidean distance from cluster 6</p></td>
</tr>
<tr class="row-even"><td><p>7</p></td>
<td><p>cluster7_euc_dst.tif</p></td>
<td><p>raster</p></td>
<td><p>Euclidean distance from cluster 7</p></td>
</tr>
</tbody>
</table></div>
<p>The figures below show the parameters and output of the <strong>Raster calculator</strong>
tool.</p>

<div class="table-wrapper"><table class="docutils align-default">
  <colgroup>
  <col style="width: 50%"/>
  <col style="width: 50%"/>
  </colgroup>
  <thead>
  <tr class="row-odd"><th class="head"><p>Parameter Settings	</p></th>
  <th class="head"><p>Output</p></th>
  </tr>
  </thead>
  <tbody>
  <tr class="row-even"><td><p><img src="/GithubPagesImages/RastCalcPrmtrs.jpg"></p></td>
  <td><p><img src="/GithubPagesImages/raster_calculator.png"></p></td>
  </tr>
  </tbody>
  </table></div>

</section>
<section id="id7">
<h3>3.4 Reclassify by Table<a class="headerlink" href="#id7" title="Permalink to this headline">#</a></h3>
<p><strong>Reclassify by table</strong> is a tool that reclassifies a raster band by assigning
new class values based on ranges specified in a fixed table.</p>
<ul class="simple">
<li><p><strong>Usage</strong>:
This tool is used to reclassify raster values.</p></li>
<li><p><strong>Example</strong>:</p></li>
</ul>
<div class="table-wrapper"><table class="docutils align-default">
<colgroup>
<col style="width: 25%"/>
<col style="width: 25%"/>
<col style="width: 25%"/>
<col style="width: 25%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>ID</p></th>
<th class="head"><p>File Name</p></th>
<th class="head"><p>Data Format</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>euc_cluster_output.tif</p></td>
<td><p>raster</p></td>
<td><p>Result of adding together the weighted clusters 1 and 2</p></td>
</tr>
</tbody>
</table></div>
<p>The figures below show the parameters and output for the
<strong>Reclassify by table</strong> tool.</p>
<blockquote>
<p>&#128204; Check the details of an image:<span class="raw-html-m2r"><br>
If you can’t see the image clearly, click on the image to view it in a
new page, which will show the image in its original size.</p>
</blockquote>

<div class="table-wrapper"><table class="docutils align-default">
  <colgroup>
  <col style="width: 33%"/>
  <col style="width: 33%"/>
  <col style="width: 33%"/>
  </colgroup>
  <thead>
  <tr class="row-odd"><th class="head"><p>Parameter Settings</p></th>
  <th class="head"><p>Table Parameters</p></th>
   <th class="head"><p>Output</p></th>
  </tr>
  </thead>
  <tbody>
  <tr class="row-even"><td><p><img src="/GithubPagesImages/RclsfyP1.jpg"></p></td>
  <td><p><img src="/GithubPagesImages/RclsfyP2.jpg"></p></td>
  <td><p><img src="/GithubPagesImages/RclsfyEx.jpg"></p></td>
  </tr>
  </tbody>
  </table></div>

<blockquote>
<div><dl class="field-list simple">
<p>&#128204; Here is a helpful strategy: If you want to keep track of what raster cells are combined when multiplying
raster layers together, try reclassifying the raster values as prime numbers.
The product of two prime numbers can only be the result of those specific
numbers, allowing you to identify what cells were combined.</p>
</div></blockquote>
</section>
<section id="id8">
<h3>3.5 Subdivide<a class="headerlink" href="#id8" title="Permalink to this headline">#</a></h3>
<p><strong>Subdivide</strong> is a tool that subdivides the original geometry into smaller
parts, where no part has more than the specified maximum number of nodes.</p>
<ul class="simple">
<li><p><strong>Usage</strong>:
The <strong>subdivide</strong> tool is used to break down complex geometries into more
manageable parts. In our case, this tool allows us to subdivide large areas
of land into IDUs.</p></li>
<li><p><strong>Example</strong>:</p></li>
</ul>
<div class="table-wrapper"><table class="docutils align-default">
<colgroup>
<col style="width: 20%"/>
<col style="width: 20%"/>
<col style="width: 20%"/>
<col style="width: 20%"/>
<col style="width: 20%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>ID</p></th>
<th class="head"><p>File Name</p></th>
<th class="head"><p>Data Format</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>subdivide_ex.shp</p></td>
<td><p>vector</p></td>
<td><p>polygon</p></td>
<td><p>Geographic area to be subdivided</p></td>
</tr>
</tbody>
</table></div>
<p>The figures below show the parameters and output for the <strong>Subdivide</strong> tool.</p>

<div class="table-wrapper"><table class="docutils align-default">
  <colgroup>
  <col style="width: 50%"/>
  <col style="width: 25%"/>
  <col style="width: 25%"/>
  </colgroup>
  <thead>
  <tr class="row-odd"><th class="head"><p>Parameter Settings</p></th>
  <th class="head"><p>Input</p></th>
   <th class="head"><p>Output</p></th>
  </tr>
  </thead>
  <tbody>
  <tr class="row-even"><td><p><img src="/GithubPagesImages/SubDivParameters.jpg"></p></td>
  <td><p><img src="/GithubPagesImages/SubDivBaseEx.jpg"></p></td>
  <td><p><img src="/GithubPagesImages/SubDivEx.jpg"></p></td>
  </tr>
  </tbody>
  </table></div>

</section>
<section id="id9">
<h3>3.6 Eliminate Selected Polygons<a class="headerlink" href="#id9" title="Permalink to this headline">#</a></h3>
<p><strong>Eliminate selected polygons</strong> is a tool that combines selected polygons by
erasing the common boundary with nearby polygons. The merge can be based on
largest common boundary, largest area or smallest area.</p>
<ul class="simple">
<li><p><strong>Usage</strong>:
<strong>Eliminate selected polygons</strong> is used to refine the IDUs by eliminating
sliver polygons and other irregularities.</p></li>
<li><p><strong>Example</strong></p></li>
</ul>
<div class="table-wrapper"><table class="docutils align-default">
<colgroup>
<col style="width: 20%"/>
<col style="width: 20%"/>
<col style="width: 20%"/>
<col style="width: 20%"/>
<col style="width: 20%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>ID</p></th>
<th class="head"><p>File Name</p></th>
<th class="head"><p>Data Format</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>eliminate_ex.shp</p></td>
<td><p>vector</p></td>
<td><p>polygon</p></td>
<td><p>Input polygons to be eliminated</p></td>
</tr>
</tbody>
</table></div>
<p>The figures below show the parameters for the <strong>Eliminate selected polygons</strong>
tool.</p>

<div class="table-wrapper"><table class="docutils align-default">
  <colgroup>
  <col style="width: 50%"/>
  <col style="width: 25%"/>
  <col style="width: 25%"/>
  </colgroup>
  <thead>
  <tr class="row-odd"><th class="head"><p>Parameter Settings</p></th>
  <th class="head"><p>Input</p></th>
   <th class="head"><p>Output</p></th>
  </tr>
  </thead>
  <tbody>
  <tr class="row-even"><td><p><img src="/GithubPagesImages/ElimParameters.jpg"></p></td>
  <td><p><img src="/GithubPagesImages/ElimBase.png"></p></td>
  <td><p><img src="/GithubPagesImages/ElimOut.jpg"></p></td>
  </tr>
  </tbody>
  </table></div>

<blockquote>
<div><dl class="field-list simple">
<p>&#128204; Note: This workflow utilized largest common boundary as the parameter for Eliminate selected polygons because this gave us the best
result. Try using the other methods for merging with the neighboring polygons
to see which gives you the best result.</p>
</div></blockquote>
</section>
<section id="id10">
<h3>3.7 v.clean<a class="headerlink" href="#id10" title="Permalink to this headline">#</a></h3>
<p><strong>v.clean</strong> is a tool that cleans input layers using a selection of tools.
The table below shows what tools are available:</p>

<div class="table-wrapper"><table class="docutils align-default">
  <colgroup>
  <col style="width: 20%"/>
  <col style="width: 20%"/>
  <col style="width: 20%"/>
  <col style="width: 20%"/>
  <col style="width: 20%"/>
  </colgroup>
  <thead>
  <tr class="row-odd"><th class="head"><p>v.clean</p></th>
  <th class="head"><p>&nbsp;</p></th>
  <th class="head"><p>&nbsp;</p></th>
  <th class="head"><p>&nbsp;</p></th>
  <th class="head"><p>&nbsp;</p></th>
  </tr>
  </thead>
  <tbody>
  <tr class="row-even"><td><p>break</p></td>
  <td><p>snap</p></td>
  <td><p>rmdangle</p></td>
  <td><p>chdangle</p></td>
  <td><p>rmbridge</p></td>
  </tr>
  <tr class="row-odd"><td><p>chbridge</p></td>
  <td>rmdupl</td>
  <td>rmdac</td>
  <td>bpol</td>
  <td>prune</td>
  </tr>
  <tr>
  <tr class="row-even"><td><p>rmarea</p></td>
  <td>rmline</td>
  <td>rmsa</td>
  <td><p>&nbsp;</p></td>
  <td><p>&nbsp;</p></td>
  </tr>
  </tbody>
  </table></div>
<p>There is also an optional parameter called <em>Input feature type</em> which allows
you to specify what you want to be cleaned. This makes the <strong>v.clean</strong> tool
more effective. The table below shows the possible input feature types:</p>

<div class="table-wrapper"><table class="docutils align-default">
  <colgroup>
  <col style="width: 25%"/>
  <col style="width: 25%"/>
  <col style="width: 25%"/>
  <col style="width: 25%"/>
  </colgroup>
  <thead>
  <tr class="row-odd"><th class="head"><p>v.clean</p></th>
  <th class="head"><p>&nbsp;</p></th>
  <th class="head"><p>&nbsp;</p></th>
  <th class="head"><p>&nbsp;</p></th>
  </tr>
  </thead>
  <tbody>
  <tr class="row-even"><td><p>area</p></td>
  <td><p>point</p></td>
  <td><p>line</p></td>
  <td><p>boundary</p></td>
  </tr>
  <tr class="row-odd"><td><p>centroid</p></td>
  <td>face</td>
  <td>kernel</td>
  <td>&nbsp;</td>
  </tr>
  </tbody>
  </table></div>
<ul class="simple">
<li><p><strong>Usage</strong>:
The <strong>v.clean</strong> tool is used for making each of the IDUs more regularly
shaped. We will be utilizing all of the tools to clean our feature type,
which is area.</p></li>
<li><p><strong>Example</strong>:</p></li>
</ul>
<div class="table-wrapper"><table class="docutils align-default">
<colgroup>
<col style="width: 20%"/>
<col style="width: 20%"/>
<col style="width: 20%"/>
<col style="width: 20%"/>
<col style="width: 20%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>ID</p></th>
<th class="head"><p>File Name</p></th>
<th class="head"><p>Data Format</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>clean_ex.shp</p></td>
<td><p>vector</p></td>
<td><p>polygon</p></td>
<td><p>Input polygon to be cleaned</p></td>
</tr>
</tbody>
</table></div>
<p>The figures below show the parameters and output for the <strong>v.clean</strong> tool.</p>

<div class="table-wrapper"><table class="docutils align-default">
  <colgroup>
  <col style="width: 50%"/>
  <col style="width: 25%"/>
  <col style="width: 25%"/>
  </colgroup>
  <thead>
  <tr class="row-odd"><th class="head"><p>Parameter Settings</p></th>
  <th class="head"><p>Input</p></th>
   <th class="head"><p>Output</p></th>
  </tr>
  </thead>
  <tbody>
  <tr class="row-even"><td><p><img src="/GithubPagesImages/CleanParameters.jpg"></p></td>
  <td><p><img src="/GithubPagesImages/CleanBase.jpg"></p></td>
  <td><p><img src="/GithubPagesImages/CleanOut.jpg"></p></td>
  </tr>
  </tbody>
  </table></div>

<blockquote>
<p>&#128204; Note: In order for this tool to work, you must specify a location for the output shapefile to be saved.</p>
</section>
<section id="the-qgis-workflow-of-creating-idus">
<h2>4. The QGIS Workflow of Creating IDUs<a class="headerlink" href="#the-qgis-workflow-of-creating-idus" title="Permalink to this headline">#</a></h2>
<p>The diagrams below show the general process of the IDU workflow.</p>
<section id="developing-urban-clusters">
<h3>4.1 Developing urban clusters<a class="headerlink" href="#developing-urban-clusters" title="Permalink to this headline">#</a></h3>
<p>The first part of the IDU workflow focuses on <strong>developing urban clusters</strong> and
<strong>distinguishing the boundary</strong> between these clusters and the rest of the THLD
District. This can be done through a series of 4 geoprocessing steps:
identify urban clusters, measure distance to each cluster, aggregate inverse
distance raster, and define urban boundary.</p>
<ul class="simple">
<li><p>In order to <strong>identify urban clusters</strong>, urban areas of the THLD District
must first be extracted from the base land use raster.
This was done by converting the land use raster to vector points and then
extracting points according to their land use designation.
Points designated with land use type <b>6</b> make up the urban areas
that we are looking for. Once these have been extracted, they are entered into the DBSCAN clustering
tool.The output from the DBSCAN tool is our urban clusters.</span></p></li>
<li><p>Now that DBSCAN has identified urban clusters, each of these clusters must
individually be <strong>extracted</strong>, <strong>converted to raster</strong>, and then <strong>processed
using the proximity tool</strong>.</p></li>
<li><p>After completing the previous steps, we can move on to <strong>calculating the area
of influence</strong> for each cluster. This influence is calculated by dividing the
number of points in a cluster by the total number of points for all clusters.
These are now weighted using the <em>inverse distance formula</em>, where <b>1</b> is divided by the proximity raster and multiplied by the weight.</p></li>
<li><p>To define the boundary between the urban and rural areas of the THLD
District, we can <strong>reclassify our weighted raster</strong>. This reclassified raster
will be binary, where <b>1</b> corresponds to the urban area and <b>0</b> corresponds to the rural area.</p></li>
</ul>
<div class="table-wrapper"><table class="docutils align-default">
  <th>Developing urban clusters</th>
  <tbody>
    <tr>
      <td><img src="/GithubPagesImages/IDU_diagram_1.svg"></td>
    </tr>
  </tbody>
</table>

<details>
<summary><b>IDU part 1 video demo (click to watch)</b></summary>
<a href="https://mediasite.video.ufl.edu/Mediasite/Play/97be5d97e2dc4150933b76f8624b43001d">
<img alt="IDU part 1" src="/GithubPagesImages/IDU_part1_video_thumbnail.png" width="800"/>
</a>
<br/>

<blockquote>
  <p>&#128161; A quick note on the Reclassification table</p>
  <p>The output raster generated by multiplying proximity rasters and their respective weights is monotonically increasing. In other words, there are no 0 values at the center of an urban cluster. Therefore, the "Reclassification table" shown at about "07:30" of the video demo can be simplified with only two classes as:</p>
  <table class="docutils align-default">
    <thead class="row-odd">
      <th>Minimum</th>
      <th>Maximum</th>
      <th>Value</th>
    </thead>
    <tbody>
    <tr class="row-even">
      <td>0</td>
      <td>0.0039</td>
      <td>0</td>
    </tr>
    <tr class="row-odd">
      <td>0.0039</td>
      <td>1</td>
      <td>1</td>
    </tr>
  </tbody>
  </table>
</blockquote>
</details><details>
<summary>
<b>IDU in-depth explanation: Calculating Urban Clusters (click to watch)</b>
</summary>
<a href="https://mediasite.video.ufl.edu/Mediasite/Play/88c8a6c697bb4ef98fc1fce0d807b6fb1d">
<img alt="IDU in-depth 1" src="/GithubPagesImages/IDU_indepth1_video_thumbnail.png" width="800"/>
</a>
</details></section>
<section id="calculating-idus">
<h3>4.2 Calculating IDUs<a class="headerlink" href="#calculating-idus" title="Permalink to this headline">#</a></h3>
<p>The second part of the IDU workflow focuses on the actual <strong>calculating of the
IDUs</strong>. This can be done by performing the following 4 geoprocessing functions:
overlay input rasters, separate rural and urban areas, process vector data
(iteration) and merge results.</p>
<ul class="simple">
<li><p>The first step in calculating the IDUs is to <strong>create the base suitability
raster</strong>.
In order to make the calculations easier, we are going to <strong>reclassify</strong> the
land cover raster into three general categories
Once this is done, the generalized land cover and drainage rasters are ready
to be combined.
In order to combine these rasters, they must first be <strong>reclassified as
prime numbers</strong>.
The reason we do this is to keep track of what raster values are combined
when we multiply the land cover and drainage rasters together</span>
(for further explanation on why we use prime numbers, you can refer back to
section 3.3 Raster Calculator).
After the layers are reclassified, they are <strong>multiplied together</strong> using
raster calculator.</p></li>
<li><p>Next, the combined suitability raster needs to be <strong>separated into urban
and rural areas</strong>. This is where we use the urban and rural rasters that were
calculated in the first part of the IDU workflow. The combined raster is
<strong>multiplied</strong> by the urban and rural rasters, respectively. This
calculation maintains the suitability of the targeted area while setting the
rest of the raster equal to <b>0</b>. After this is done for both the urban
and rural rasters,
the <strong>r.null</strong> tool is used to convert the 0 raster values to
<b>No Data</b>.</p></li>
<li><p>With the urban and rural parts of the suitability raster separated, it is
time to create the first iteration of the IDUs. Starting with either the
urban or rural suitability rasters, r.to.vect is used to <strong>convert the raster
layer</strong> to a vector layer. The fix geometries tool is then used on the vector
layer, <strong>creating a valid input</strong> for the subdivide tool.The subdivide
tool
returns a multipart polygon which must be converted to a single part polygon
before further processing. At this point, the subdivided areas are very
small and irregular. This is addressed by <strong>eliminating very small polygons</strong>
and merging them with other nearby, larger polygons. Multiple iterations
are required in order to create regular, consistent IDUs.</p></li>
<li><p>Once the IDUs have been established, all that is left to do is some <strong>final
cleaning</strong> (if you choose) and to <strong>merge</strong> the urban and rural layers back
together.
The v.clean tool is used to make the IDUs more regularly shaped. This change
is very subtle and is not required if you feel that your IDUs are regular
enough already. The urban IDUs and rural IDUs can then be <strong>merged</strong> to
create the final IDU layer.</p></li>
</ul>

<div class="table-wrapper"><table class="docutils align-default">
  <th>Calculating IDUs</th>
  <tbody>
    <tr>
      <td><img src="/GithubPagesImages/IDU_diagram_2.svg"></td>
    </tr>
  </tbody>
</table>

<blockquote>
<div><p>The GIS process described above leads us to the final IDUs of THLD district.
It is worth noting that the output may not be identical or 100% reproducible
due to the fact that there are multiple <strong>iterative processes</strong> involved and
Here, one output is presented in the map below (<em>click to expand</em>).
The output shapefile is also provided and can be found at
<a class="reference external" href="./datasets/IDU_Output">here</a>.
You can locate the file in the downloaded zip file of this GitHub repository
and visualize it in QGIS.</p>
</div></blockquote>
<details>
<summary><b>IDU part 2 video demo (click to watch)</b></summary>
<a href="https://mediasite.video.ufl.edu/Mediasite/Play/1ccee73008e44189b0f3dfa13c4595ca1d">
<img alt="IDU part 2" src="/GithubPagesImages/IDU_part2_video_thumbnail.png" width="800"/>
</a>
</details>
<br>
<details>
<summary>
<b>IDU in-depth explanation: Weight clusters and create urban/rural masks (click to watch)</b>
</summary>
<a href="https://mediasite.video.ufl.edu/Mediasite/Play/ccb43a6c0220405c97d282e2fa208a541d">
<img alt="IDU in-depth 2" src="/GithubPagesImages/IDU_indepth2_video_thumbnail.png" width="800"/>
</a>
</details>
<br>
<details>
<summary><b>IDU part 3 video demo (click to watch)</b></summary>
<a href="https://mediasite.video.ufl.edu/Mediasite/Play/5e17bcddb40a4d73a79ed274f284b3491d">
<img alt="IDU part 3" src="/GithubPagesImages/IDU_part3_video_thumbnail.png" width="800"/>
</a>
</details><br>
<details>
<summary>
<b>IDU in-depth explanation: Iterative elimination and v.clean tool (click to watch)</b>
</summary>
<a href="https://mediasite.video.ufl.edu/Mediasite/Play/ab236f79f55b443eaf68b7e224454e7e1d">
<img alt="IDU in-depth 3" src="/GithubPagesImages/IDU_indepth3_video_thumbnail.png" width="800"/>
</a>
<br/>
<blockquote>&#128161; A quick note on the <b>parameters</b> used in the demo<br>
It is important to understand that the parameters used in this demo is based on the fact that the raster <b>cell size</b> is 100 meters.
For example, in the <i>Select by expression</i> tool, 10000 (approx.) is used to
select polygons that will be eliminated because that is the area of a single
cell in the original raster is 10,000 square meters (i.e., 100 x 100).
 One must adjust the parameter when a different cell size is in question.  A parameter of <i>10,000</i> is certainly not at the right magnitude for a raster
 with cell size of 10 meters.
</blockquote>
</details><br>
<details>
<summary><b>THLD final IDU map</b></summary>

<img alt="Final IDU map" src="/GithubPagesImages/FinalIDUmerge.jpg">

</details></section>
</section>
<section id="exercise-and-post-training-survey">
<h2>5. Exercise and Post-training Survey<a class="headerlink" href="#exercise-and-post-training-survey" title="Permalink to this headline">#</a></h2>
<ul class="simple">
<li><p>Please complete this <a class="reference external" href="exercise.md">Exercise</a>.</p></li>
<li><p>Please submit your exercise <a class="reference external" href="https://github.com/SERVIR-WA/GALUP/issues/new?assignees=eidealex&amp;labels=exercise+w3&amp;template=w3-exercise-submission.md&amp;title=Workshop+3+exercise+%5Breplace+with+your+name%5D">here</a>.</p></li>
<li><p>Please take this post-training
<a class="reference external" href="https://ufl.qualtrics.com/jfe/form/SV_0vNRnI3WsOjXM1g">survey</a> (required).</p></li>
</ul>
</section>
<section id="reference">
<h2>Reference<a class="headerlink" href="#reference" title="Permalink to this headline">#</a></h2>
<ol class="arabic simple">
<li><p><span class="raw-html-m2r"><a id="iSDA land cover"></a></span>Buchhorn, M., Lesiv, M., Tsendbazar, N.-E.,
Herold, M., Bertels, L., &amp; Smets, B. (2020). Copernicus Global Land Cover
Layers—Collection 2. <em>Remote Sensing</em>, 12(6).
<a class="reference external" href="https://doi.org/10.3390/rs12061044">https://doi.org/10.3390/rs12061044</a></p></li>
<li><p><span class="raw-html-m2r"><a id="africa soil drainage dataset"></a></span>Hengl, T., Heuvelink, G. B. M.,
Kempen, B., Leenaars, J. G. B., Walsh, M. G., Shepherd, K. D., Sila, A.,
MacMillan, R. A., De Jesus, J. M., Tamene, L., &amp; Tondoh, J. E. (2015).
Mapping Soil Properties of Africa at 250 m Resolution: Random Forests
Significantly Improve Current Predictions. <em>PLOS ONE</em>, 10(6), e0125814.
<a class="reference external" href="https://doi.org/10.1371/JOURNAL.PONE.0125814">https://doi.org/10.1371/JOURNAL.PONE.0125814</a></p></li>
<li><p><span class="raw-html-m2r"><a id="geospatial analysis"></a></span>de Smith, M. J., Goodchild, M. F., &amp;
Longley, P. A. (2018). Geospatial analysis: A comprehensive guide to
principles, techniques and software tools (6th ed.).
<a class="reference external" href="https://www.spatialanalysisonline.com/HTML/index.html">https://www.spatialanalysisonline.com/HTML/index.html</a></p></li>
</ol>
</section>
</section>


        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          
          
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2022, The GALUP Team
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    </div>
    <aside class="toc-drawer d-none d-xl-block col-xl-2 bd-toc">
      <div class="toc-sticky toc-scroll containme2">
       <div class="toc-title-container">
         <span class="toc-title">
            Contents
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal hov" href="#">Integrated Decision Units (IDUs) for Land Use Suitability Modeling</a><ul>
<li><a class="reference internal hov" href="#introduction">1. Introduction</a></li>
<li><a class="reference internal hov" href="#datasets-description">2. Datasets Description</a></li>
<li><a class="reference internal hov" href="#key-functions">3. Key Functions</a><ul>
<li><a class="reference internal hov" href="#id2">3.1 DBSCAN clustering</a></li>
<li><a class="reference internal hov" href="#id3">3.2 Proximity</a></li>
<li><a class="reference internal hov" href="#id5">3.3 Raster Calculator</a></li>
<li><a class="reference internal hov" href="#id7">3.4 Reclassify by Table</a></li>
<li><a class="reference internal hov" href="#id8">3.5 Subdivide</a></li>
<li><a class="reference internal hov" href="#id9">3.6 Eliminate Selected Polygons</a></li>
<li><a class="reference internal hov" href="#id10">3.7 v.clean</a></li>
</ul>
</li>
<li><a class="reference internal hov" href="#the-qgis-workflow-of-creating-idus">4. The QGIS Workflow of Creating IDUs</a><ul>
<li><a class="reference internal hov" href="#developing-urban-clusters">4.1 Developing urban clusters</a></li>
<li><a class="reference internal hov" href="#calculating-idus">4.2 Calculating IDUs</a></li>
</ul>
</li>
<li><a class="reference internal hov" href="#exercise-and-post-training-survey">5. Exercise and Post-training Survey</a></li>
<li><a class="reference internal hov" href="#reference">Reference</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>      
    </aside>
  </div>
</div>
  </div>
</div><script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/scripts/furo.js"></script>
    </body>
</html>